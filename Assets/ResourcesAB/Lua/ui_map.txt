local uibase = require('uis/ui_base')
local uimgr = require('base/ui_mgr')
local uiconfig = require('configs/cf_ui')

local _M = class(uibase)

function _M:ctor()
    self.tex_map_RawImageEx = nil
    self.btn_map = nil

    self.OnClose = nil
end

function _M:OnLoaded()
    local function OnClose()
        uimgr.CloseUI(uiconfig.map)
    end
    
    self.OnClose = OnClose

    self.tex_map_RawImageEx = self.gameobject:GetComponentInChildren(typeof(CS.RawImageEx))
    self.tex_map_RawImageEx:SetTextureName('cangbaotu_01')
    
    self.btn_map = self.gameobject:GetComponentInChildren(typeof(CS.ButtonEx))
    self.btn_map.onClick:AddListener(OnClose)
end

function _M:OnEnable()

end

function _M:Update(dt)

end

function _M:OnDisable()

end

function _M:OnDestroy()
    if self.OnClose then
        self.btn_map.onClick:RemoveListener(self.OnClose)
    end
end

return _M
